<!DOCTYPE html lang="en">

<head>
    <meta charset="utf-8">
    <title>Graphn Verifier</title>
    <meta name="description" content="Graphn LoR proofs verifier">
    <meta name="author" content="Rodrigo Martínez Castaño">
    <meta name="theme-color" content="#55ff55">
    <link rel="icon" type="image/png" href="images/favicon.png" sizes="64x64">
</head>

<body>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <div class="container">
        <img src="images/graphn.svg" id="logo" class="grid-item" />
        <div id="input" class="grid-item"><input type="text" placeholder="input your proof..."/></div>
    </div>
    <div id="result" class="grid-item"></div>
</body>

<script>
    $(':input').on('propertychange input', function (e) {
        var valueChanged = false;

        if (e.type == 'propertychange') {
            valueChanged = e.originalEvent.propertyName == 'value';
        } else {
            valueChanged = true;
        }
        if (valueChanged) {
            proof = $(':input').val();
            $.ajax({
                url: "http://localhost:8080" + proof
            }).then(function (data) {
                $('#result').text(JSON.stringify(data).replace(/,/g, ', ').replace(/:/g, ': '));
            });
        }
    });
</script>

</html>